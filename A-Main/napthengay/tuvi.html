<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Xem Tử Vi - Bao Lì Xì</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: url('https://cellphones.com.vn/sforum/wp-content/uploads/2023/12/hinh-nen-than-tai-19.jpg') center top no-repeat;
      background-size: cover;
      color: white;
      text-align: center;
      margin: 0;
      padding: 50px 20px;
    }

    .container {
      background: rgba(255, 255, 255, 0.15);
      padding: 30px;
      border-radius: 20px;
      max-width: 500px;
      margin: auto;
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
      backdrop-filter: blur(5px);
    }

    h1 {
      font-size: 32px;
      margin-bottom: 30px;
      color: #fffbe8;
      text-shadow: 1px 1px 2px #000;
    }

    input, button {
      width: 90%;
      padding: 12px;
      margin: 10px 0;
      border: none;
      border-radius: 10px;
      font-size: 16px;
    }

    input {
      background: #fff0f0;
      color: #333;
    }

    button {
      background: #ffffff;
      color: #d60000;
      cursor: pointer;
      transition: 0.3s;
    }

    button:hover {
      background: #fdd;
      color: #a00000;
    }

    .envelope {
      display: none;
      position: relative;
      width: 300px;
      height: 450px;
      margin: 40px auto 20px;
      background: url('https://cellphones.com.vn/sforum/wp-content/uploads/2023/12/hinh-nen-than-tai-13.jpg') center center no-repeat;
      background-size: cover;
      border-radius: 20px;
      border: 4px solid gold;
      box-shadow: 0 0 30px rgba(255, 215, 0, 0.5);
      cursor: pointer;
    }

    .envelope.flash {
      animation: flash 0.3s ease-in-out;
    }

    @keyframes flash {
      0%   { box-shadow: 0 0 10px 5px yellow; }
      50%  { box-shadow: 0 0 30px 15px gold; }
      100% { box-shadow: 0 0 10px 5px yellow; }
    }

    .click-msg {
      color: #fffad0;
      font-size: 18px;
      margin-top: 10px;
    }

    .horoscope {
      width: 90%;
      background: rgba(255, 255, 255, 0.2);
      border-radius: 12px;
      padding: 20px;
      color: #fff9d6;
      font-size: 18px;
      text-shadow: 1px 1px 2px #000;
      margin: 20px auto 0;
      white-space: pre-wrap;
      min-height: 100px;
    }

    body::after {
      content: "";
      background: url('https://cellphones.com.vn/sforum/wp-content/uploads/2023/12/hinh-nen-than-tai-13.jpg') no-repeat center bottom;
      background-size: contain;
      opacity: 0.3;
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 300px;
      z-index: -1;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Xem Tử Vi Hôm Nay</h1>

    <div id="formArea">
      <input type="text" id="name" placeholder="Nhập tên của bạn">
      <input type="date" id="dob">
      <button onclick="prepareEnvelope()">Xem Tử Vi</button>
    </div>

    <div class="envelope" id="envelope" onclick="openEnvelope()"></div>
    <div class="click-msg" id="clickMessage"></div>
    <div class="horoscope" id="horoscopeText"></div>
  </div>

  <script>
    let clickCount = 0;
    let userInfo = "";
    let fullMessage = "";

    const horoscopes = [
  "Một chuyến đi ngắn hoặc một cuộc gặp gỡ thú vị sẽ mang lại cơ hội bất ngờ cho bạn.",
  "Tình cảm đang phát triển theo chiều hướng tích cực, hãy tin tưởng vào trực giác của mình.",
  "Cẩn trọng khi xử lý công việc hôm nay, nhưng đừng quá lo lắng vì vận may đang ở bên bạn.",
  "Bạn sẽ được người khác giúp đỡ bất ngờ. Đừng ngần ngại chấp nhận và biết ơn điều đó.",
  "Một cơ hội tài chính hoặc ý tưởng đầu tư tốt sẽ xuất hiện, hãy nắm bắt thật nhanh chóng.",
  "Sức khỏe và tinh thần bạn hôm nay đều ổn định, thích hợp để bắt đầu điều gì đó mới mẻ.",
  "Sự kiên trì và nỗ lực của bạn sẽ được công nhận, đừng bỏ cuộc vào phút cuối!",
  "Bạn có thể gặp lại một người bạn cũ - và họ sẽ mang đến cho bạn một tin tốt lành.",
  "Hãy dành thời gian chăm sóc bản thân, vì sự bình an nội tâm đang rất cần thiết hôm nay.",
  "Một lời mời bất ngờ có thể mở ra một cánh cửa mới trong sự nghiệp hoặc tình yêu của bạn.",
  
  // Thêm 20 câu mới, hay và sâu sắc
  "Hôm nay là ngày tốt để khởi đầu – một ý tưởng nhỏ có thể thay đổi cả tương lai của bạn.",
  "Sự tử tế bạn trao đi hôm nay sẽ quay trở lại với bạn bằng những điều kỳ diệu.",
  "Một người thân yêu đang âm thầm ủng hộ bạn – hãy trân trọng sự hiện diện đó.",
  "Bạn có sức hút đặc biệt hôm nay – đừng ngần ngại thể hiện bản thân.",
  "Hãy tin vào những gì bạn đang theo đuổi, dù người khác chưa hiểu bạn.",
  "Nguồn năng lượng tích cực từ vũ trụ đang dẫn lối – đừng từ chối sự thay đổi.",
  "Tình yêu sẽ đến một cách tự nhiên khi bạn sống thật với chính mình.",
  "Nếu bạn đang chờ một dấu hiệu – thì đây chính là dấu hiệu đó.",
  "Hãy cho bản thân thời gian để chữa lành – không có gì sai khi nghỉ ngơi.",
  "Một thử thách sẽ xuất hiện hôm nay – và bạn có đủ khả năng để vượt qua nó.",
  "Cơ hội đang ở rất gần – chỉ cần bạn đủ dũng cảm để bước ra khỏi vùng an toàn.",
  "Tài chính của bạn sẽ cải thiện nếu bạn học cách lắng nghe lời khuyên đúng lúc.",
  "Một hành động nhỏ hôm nay có thể tạo nên hiệu ứng lan tỏa lớn vào ngày mai.",
  "Đừng để những nỗi sợ cũ ngăn bạn sống trọn vẹn trong hiện tại.",
  "Bạn không cô đơn – vũ trụ luôn lắng nghe và sắp đặt điều tốt nhất cho bạn.",
  "Tình bạn hôm nay sẽ trở thành chỗ dựa lớn trong tương lai của bạn.",
  "Nếu bạn đang cảm thấy lạc hướng – hãy quay về với điều khiến bạn hạnh phúc.",
  "Bạn sinh ra không phải để sống tầm thường – hãy dũng cảm làm điều khác biệt.",
  "Một cơ hội bất ngờ trong công việc sẽ đến nếu bạn thể hiện hết mình hôm nay.",
  "Hạnh phúc không ở đâu xa – nó nằm trong những điều giản dị bạn thường bỏ quên."
];


    function prepareEnvelope() {
      const name = document.getElementById("name").value.trim();
      const dob = document.getElementById("dob").value.trim();

      if (!name || !dob) {
        alert("Vui lòng nhập đầy đủ tên và ngày sinh!");
        return;
      }

      clickCount = 0;
      userInfo = `${name} (${dob})`;
      fullMessage = horoscopes[Math.floor(Math.random() * horoscopes.length)];

      document.getElementById("formArea").style.display = "none";
      document.getElementById("envelope").style.display = "block";
      document.getElementById("clickMessage").innerText = "Bấm 3 lần để mở bao lì xì!";
      document.getElementById("horoscopeText").innerText = "";
    }

    function openEnvelope() {
      clickCount++;
      const envelope = document.getElementById("envelope");
      const clickMsg = document.getElementById("clickMessage");

      if (clickCount < 3) {
        clickMsg.innerText = `Bạn đã bấm ${clickCount}/3 lần...`;
      } else if (clickCount === 3) {
        envelope.classList.add("flash");
        setTimeout(() => {
          envelope.classList.remove("flash");
          clickMsg.innerText = "Đang mở bao lì xì...";
          typeMessage(`${userInfo}\n\n${fullMessage}`, "horoscopeText", 30);
        }, 300);
      }
    }

    function typeMessage(text, elementId, speed) {
      let index = 0;
      const element = document.getElementById(elementId);
      element.innerText = "";
      function typeChar() {
        if (index < text.length) {
          element.innerText += text.charAt(index);
          index++;
          setTimeout(typeChar, speed);
        }
      }
      typeChar();
    }
  </script>
</body>
</html>
